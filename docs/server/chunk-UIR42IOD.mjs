import './polyfills.server.mjs';
import{Ca as c,Fa as t,G as f,Ga as n,Ia as v,Ja as g,K as s,Ka as i,La as l,Ma as u,la as r,ob as b,pa as x,pb as h,qb as y,ta as _,va as m,xb as C}from"./chunk-CCHSI3DC.mjs";import"./chunk-X2SEQXRR.mjs";var p=class a{constructor(o){this.http=o}getData(){return this.http.get("https://api.massive.com/v3/reference/dividends?apiKey=_fqd8SdnJegqlm1JsZ_FGxvdaSXv5Ten")}static \u0275fac=function(e){return new(e||a)(s(C))};static \u0275prov=f({token:a,factory:a.\u0275fac,providedIn:"root"})};function E(a,o){a&1&&(t(0,"div"),i(1,"Loading\u2026"),n())}function I(a,o){if(a&1&&(t(0,"div"),i(1),n()),a&2){let e=g();r(),u("Error: ",(e.error==null?null:e.error.message)||e.error,"")}}function O(a,o){if(a&1&&(t(0,"tr")(1,"td"),i(2),n(),t(3,"td"),i(4),n(),t(5,"td"),i(6),n(),t(7,"td"),i(8),n(),t(9,"td"),i(10),n(),t(11,"td",5),i(12),n(),t(13,"td"),i(14),n(),t(15,"td"),i(16),n(),t(17,"td"),i(18),n()()),a&2){let e=o.$implicit;r(2),l(e.cash_amount),r(2),l(e.currency),r(2),l(e.dividend_type),r(2),l(e.ex_dividend_date),r(2),l(e.frequency),r(2),l(e.id),r(2),l(e.pay_date),r(2),l(e.record_date),r(2),l(e.ticker)}}function M(a,o){if(a&1&&(t(0,"table",3)(1,"thead")(2,"tr")(3,"th"),i(4,"cash_amount"),n(),t(5,"th"),i(6,"currency"),n(),t(7,"th"),i(8,"dividend_type"),n(),t(9,"th"),i(10,"ex_dividend_date"),n(),t(11,"th"),i(12,"frequency"),n(),t(13,"th"),i(14,"id"),n(),t(15,"th"),i(16,"pay_date"),n(),t(17,"th"),i(18,"record_date"),n(),t(19,"th"),i(20,"ticker"),n()()(),t(21,"tbody"),m(22,O,19,9,"tr",4),n()()),a&2){let e=g();r(22),c("ngForOf",e.data)}}function N(a,o){a&1&&(t(0,"div"),i(1,"No records found."),n())}function k(a,o){a&1&&(t(0,"div"),i(1,'Click "Load data" to fetch records.'),n())}var P=class a{constructor(o){this.newPageService=o}data;loading=!1;error=null;fetchData(){this.loading=!0,this.newPageService.getData().subscribe({next:o=>{console.log("Raj API Response:",o);let e=o?.results??o?.data??(Array.isArray(o)?o:null);this.data=Array.isArray(e)?e:e?[e]:[],this.loading=!1},error:o=>{this.error=o,this.loading=!1}})}static \u0275fac=function(e){return new(e||a)(x(p))};static \u0275cmp=_({type:a,selectors:[["app-new-page"]],decls:7,vars:6,consts:[[3,"click","disabled"],[4,"ngIf"],["border","1","cellspacing","0","cellpadding","6",4,"ngIf"],["border","1","cellspacing","0","cellpadding","6"],[4,"ngFor","ngForOf"],[2,"word-break","break-all"]],template:function(e,d){e&1&&(t(0,"button",0),v("click",function(){return d.fetchData()}),i(1,"Load data"),n(),m(2,E,2,0,"div",1)(3,I,2,1,"div",1)(4,M,23,1,"table",2)(5,N,2,0,"div",1)(6,k,2,0,"div",1)),e&2&&(c("disabled",d.loading),r(2),c("ngIf",d.loading),r(),c("ngIf",d.error),r(),c("ngIf",d.data==null?null:d.data.length),r(),c("ngIf",d.data&&!d.data.length),r(),c("ngIf",!d.data&&!d.loading))},dependencies:[y,b,h],styles:["[_nghost-%COMP%]{display:block;padding:16px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;color:#222;background:#fff}button[_ngcontent-%COMP%]{background:#0b5ed7;color:#fff;border:0;padding:8px 12px;border-radius:6px;font-weight:600;cursor:pointer}button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;margin-top:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:900px;background:#fff;font-size:14px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 10px;text-align:left;border:1px solid #e6e9ee;vertical-align:top}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f7fb;font-weight:700;color:#333}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#fbfdff}.id-cell[_ngcontent-%COMP%]{word-break:break-all;max-width:220px}.loading[_ngcontent-%COMP%]{margin-top:8px;color:#555}.error[_ngcontent-%COMP%]{margin-top:8px;color:#b00020}@media (max-width: 700px){[_nghost-%COMP%]{padding:12px}table[_ngcontent-%COMP%]{font-size:13px;min-width:700px}}"]})};export{P as NewPageComponent};
